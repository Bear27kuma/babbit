<% provide(:title, "投稿編集") %>
<h1 class="page-title">投稿編集</h1>
<div class="row justify-content-center">
  <div class="col-md-6 col-md-offset-3">
    <section class="user-info-newpost">
      <%= image_tag @user.image.url, class: "img-rounded img-size90 profile-img" %>
      <h1><%= @user.name %></h1>
    </section>
    <%= form_for(@post) do |f| %>
      <%= render 'shared/error_messages', object: f.object %>
      <div class="text-area">
        <%= f.text_area :content, placeholder: "ここに投稿内容をお書きください" %>
      </div>
      <span class="picture">
        <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %>
      </span>
      <div class="text-center">
        <%= f.submit "変更を保存", class: "btn btn-primary" %>
      </div>
    <% end %>
    <script type="text/javascript">
      $('#post_picture').bind('change', function() {
        const size_in_megabytes = this.files[0].size/1024/1024;
        if (size_in_megabytes > 5) {
          alert('画像ファイルの最大容量は5MBです 5MB以下の画像をお選びください')
        }
      });
    </script>
  </div>
</div>